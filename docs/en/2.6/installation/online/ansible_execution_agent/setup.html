<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-144561796-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-144561796-1');
    </script>
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <title>Ansible Execution Agent - Online &#8212; Documentation  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fe63c2af" />
    <link rel="stylesheet" type="text/css" href="../../../_static/option.css?v=49ab891d" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/exastro_documents.css?v=99e5f627" />
    <link rel="stylesheet" type="text/css" href="../../../_static/swagger/swagger-ui.css?v=ab82c586" />
    
    <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=3e58b9f8"></script>
    <script src="../../../_static/tabs.js?v=3030b3cb"></script>
    <script src="../../../_static/jquery-3.6.3.min.js?v=25455f10"></script>
    <script src="../../../_static/exastro_documents.js?v=ff50fb31"></script>
    <script src="../../../_static/swagger/swagger-ui-bundle.js?v=ec73a32a"></script>
    <script src="../../../_static/swagger/swagger-ui-standalone-preset.js?v=88d26966"></script>
    <link rel="icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Offline" href="../../offline/index.html" />
    <link rel="prev" title="Ansible Execution Agent" href="index.html" /> 
  </head>
<body id="page" class="en">


<div id="container">

<div id="header">
  <header class="divInner">
    <!-- Exastro logo -->
    <div id="logo"><a href="https://ita.exastro.org/"><img src="../../../_static/img/exastro.svg" alt="Exastro"></a></div>
    <!-- Project name -->
    <div id="projectName"><a href="../../../index.html">Documentation</a></div>
    <!-- Heaedr navigation -->
    <div id="headerSearch">
      <form class="search" action="../../../search.html" method="get">
        <input type="text" name="q" aria-labelledby="searchlabel">
        <button type="submit" value="Go"><img src="../../../_static/img/search.png" alt="Go"></button>
      </form>
    </div>
  </header>
</div><!-- End #header -->


<div id="toolbar">
  <div class="divInner">
    
    <div id="documentVersion">
      <dl>
        <dt>Document version</dt>
        <dd>
          <div>
            <select name="version" style="height: 20px;" onchange="location.href=value;">
              <option value="../../../../../en/2.6/installation/online/ansible_execution_agent/setup.html">current</option>
              <option value="../../../../../en/2.6/installation/online/ansible_execution_agent/setup.html">2.6(current)</option>
              <option value="../../../../../en/2.5/installation/online/ansible_execution_agent/setup.html" selected>2.5</option>
              <option value="../../../../../en/2.4/installation/online/ansible_execution_agent/setup.html">2.4</option>
              <option value="../../../../../en/2.3/installation/online/ansible_execution_agent/setup.html">2.3</option>
              <option value="../../../../../en/2.2/installation/online/ansible_execution_agent/setup.html">2.2</option>
              <option value="../../../../../en/2.1/installation/online/ansible_execution_agent/setup.html">2.1</option>
              <option value="../../../../../en/2.0/installation/online/ansible_execution_agent/setup.html">2.0</option>
            </select>
          </div>
        </dd>
      </dl>
    </div>

    <div id="documentLanguage">
      <dl>
        <dt>Language</dt>
        <dd>
          <div>
            <select name="lang" style="height: 20px;" onchange="location.href=value;">
              <option value="../../../../../ja/2.5/installation/online/ansible_execution_agent/setup.html">日本語</option>
              <option value="../../../../../en/2.5/installation/online/ansible_execution_agent/setup.html" selected>English</option>
            </select>
          </div>
        </dd>
      </dl>
    </div>
    <div id="toolbarNavigation">
      <ul>
        <li class="prev"><a href="index.html" title="Previous topic">Ansible Execution Agent</a></li>
        <li class="next"><a href="../../offline/index.html" title="Next topic">Offline</a></li>
      </ul>
    </div>
  </div>
</div><!-- End #toolbar -->

<div id="sideMenu">

  <div id="menuButton"></div>
  
  <aside class="divInner">
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../configuration/index.html">Configuration and Construction guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Installation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Online</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../exastro/index.html">Exastro</a></li>
<li class="toctree-l3"><a class="reference internal" href="../oase_agent/index.html">OASE Agent</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Ansible Execution Agent</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Ansible Execution Agent - Online</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#goal">Goal</a></li>
<li class="toctree-l5"><a class="reference internal" href="#features">Features</a></li>
<li class="toctree-l5"><a class="reference internal" href="#pre-requisites">Pre-requisites</a></li>
<li class="toctree-l5"><a class="reference internal" href="#parameter-list">Parameter list</a></li>
<li class="toctree-l5"><a class="reference internal" href="#install">Install</a></li>
<li class="toctree-l5"><a class="reference internal" href="#uninstall">Uninstall</a></li>
<li class="toctree-l5"><a class="reference internal" href="#manually-operating-confirming-service">Manually operating/confirming service.</a></li>
<li class="toctree-l5"><a class="reference internal" href="#confirming-service-log">Confirming service log</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../offline/index.html">Offline</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../learn/index.html">Learn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/index.html">Glossary</a></li>
</ul>

    <!-- <ul>
      <li class="toctree-l1"><a class="reference internal" href="../../../../genindex.html">索引</a></li>
    </ul> -->
    
  </aside>
</div><!-- End #sideMenu -->


<div id="tableOfContents">
  <div id="tocButton"></div>
  <ul>
<li><a class="reference internal" href="#">Ansible Execution Agent - Online</a><ul>
<li><a class="reference internal" href="#goal">Goal</a></li>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#pre-requisites">Pre-requisites</a><ul>
<li><a class="reference internal" href="#hardware-requirements">Hardware requirements</a></li>
<li><a class="reference internal" href="#connection-requirements">Connection requirements</a></li>
<li><a class="reference internal" href="#os-requirements">OS requirements</a></li>
<li><a class="reference internal" href="#software-requirements">Software requirements</a></li>
<li><a class="reference internal" href="#other-requirements">Other requirements</a><ul>
<li><a class="reference internal" href="#rhel-if-using-license-with-support">RHEL(if using license with support)</a></li>
<li><a class="reference internal" href="#base-images-confirmed-compatible-with-ansible-builder">Base images confirmed compatible with Ansible builder</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#parameter-list">Parameter list</a></li>
<li><a class="reference internal" href="#install">Install</a><ul>
<li><a class="reference internal" href="#preparation">Preparation</a></li>
<li><a class="reference internal" href="#interactive-items">Interactive items</a></li>
<li><a class="reference internal" href="#install-ansible-execution-agent">Install Ansible Execution Agent</a></li>
</ul>
</li>
<li><a class="reference internal" href="#uninstall">Uninstall</a></li>
<li><a class="reference internal" href="#manually-operating-confirming-service">Manually operating/confirming service.</a></li>
<li><a class="reference internal" href="#confirming-service-log">Confirming service log</a></li>
</ul>
</li>
</ul>

</div>


<div id="contents">
<main class="divInner">

 <div id="breadcrumbs">
  <ul>
    <li><a href="../../../index.html">HOME</a></li>
    <li><a href="../../index.html">Installation</a></li>
    <li><a href="../index.html">Online</a></li>
    <li><a href="index.html">Ansible Execution Agent</a></li>
    
    <li>Ansible Execution Agent - Online</li>
  </ul>
</div>

<div id="article">
<article class="divInner">
<div class="body" role="main">

  <section id="ansible-execution-agent-online">
<span id="ansible-execution-agent"></span><h1>Ansible Execution Agent - Online<a class="headerlink" href="#ansible-execution-agent-online" title="Link to this heading">¶</a></h1>
<section id="goal">
<span id="ansible-execution-agent-purpose"></span><h2>Goal<a class="headerlink" href="#goal" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">This document aims to explain how to install the Ansible Execution Agent, which is required in order to execute Ansible in PULL-form.</div>
</div>
</section>
<section id="features">
<span id="ansible-execution-agent-feature"></span><h2>Features<a class="headerlink" href="#features" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">The Ansible Execution Agent comes with an agent function that allows users to execute Ansible-Legacy, Anslbie-Pioneer and Ansible-LegacyRole in PULL form in ITA.</div>
</div>
<ul class="simple">
<li><p>The connection between the ITA system only accepts outbound http/https from closed environments (PULL-form)</p></li>
<li><p>Can generate Ansible execution environment by using Ansible Builder and Ansible Runner(Use any environment/module)</p></li>
<li><p>Allows for redundant systems（exclusive control）</p></li>
<li><p>Can confirm the version of the agent</p></li>
</ul>
</section>
<section id="pre-requisites">
<span id="ansible-execution-agent-precondition"></span><h2>Pre-requisites<a class="headerlink" href="#pre-requisites" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">The following must be finished.</div>
</div>
<ul class="simple">
<li><p><a class="reference internal" href="#ansible-exrcution-agent-hardware-requirements"><span class="std std-ref">Hardware requirements</span></a></p></li>
<li><p><a class="reference internal" href="#ansible-exrcution-agent-os-requirements"><span class="std std-ref">OS requirements</span></a></p></li>
<li><p><a class="reference internal" href="#ansible-exrcution-agent-oftware-requirements"><span class="std std-ref">Software requirements</span></a></p></li>
<li><p><a class="reference internal" href="#ansible-exrcution-agent-communication-requirements"><span class="std std-ref">Connection requirements</span></a></p></li>
<li><p><a class="reference internal" href="#ansible-exrcution-agent-other-requirements"><span class="std std-ref">Other requirements</span></a></p></li>
</ul>
<section id="hardware-requirements">
<span id="ansible-exrcution-agent-hardware-requirements"></span><h3>Hardware requirements<a class="headerlink" href="#hardware-requirements" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Confirmed working specifications</p></li>
</ul>
<table class="docutils align-left" id="id1">
<caption><span class="caption-number">Table 41 </span><span class="caption-text">Confirmed working minimal specs</span><a class="headerlink" href="#id1" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Resource type</p></th>
<th class="head"><p>Required resource</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CPU</p></td>
<td><p>2 Cores (3.0 GHz, x86_64)</p></td>
</tr>
<tr class="row-odd"><td><p>Memory</p></td>
<td><p>6GB</p></td>
</tr>
<tr class="row-even"><td><p>Storage</p></td>
<td><p>40GB</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-left" id="id2">
<caption><span class="caption-number">Table 42 </span><span class="caption-text">Confirmed working recommended specs</span><a class="headerlink" href="#id2" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Resource type</p></th>
<th class="head"><p>Required resource</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CPU</p></td>
<td><p>4 Cores (3.0 GHz, x86_64)</p></td>
</tr>
<tr class="row-odd"><td><p>Memory</p></td>
<td><p>8GB</p></td>
</tr>
<tr class="row-even"><td><p>Storage</p></td>
<td><p>80GB</p></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<div class="line-block">
<div class="line">※The required disk space depends on the amount of Agent services, the Operation execution result deletion settings and the size of the image built.</div>
<div class="line">Make sure to maintain and size the disk space to fit the user’s needs.</div>
</div>
</div>
</section>
<section id="connection-requirements">
<span id="ansible-exrcution-agent-communication-requirements"></span><h3>Connection requirements<a class="headerlink" href="#connection-requirements" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">エージェントサーバから、外部NWへの通信が可能である必要があります。</div>
</div>
<ul class="simple">
<li><p>Connection destination ITA</p></li>
<li><p>各種インストール、及びモジュール、BaseImage取得先等（インターネットへの接続を含む）</p></li>
<li><p>作業対象サーバ</p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="../../../_images/ae_agent_nw.drawio.png"><img alt="Agent server connection requirements" src="../../../_images/ae_agent_nw.drawio.png" style="width: 600px;" />
</a>
</figure>
</section>
<section id="os-requirements">
<span id="ansible-exrcution-agent-os-requirements"></span><h3>OS requirements<a class="headerlink" href="#os-requirements" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">The confirmed compatible operation systems are as following.</div>
</div>
<table class="docutils align-left" id="id3">
<caption><span class="caption-number">Table 43 </span><span class="caption-text">Confirmed compatible OS.</span><a class="headerlink" href="#id3" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>OS type</p></th>
<th class="head"><p>Version</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>RHEL9</p></td>
<td><p>Red Hat Enterprise Linux release 9.4 (Plow)</p></td>
</tr>
<tr class="row-odd"><td><p>Almalinux8</p></td>
<td><p>AlmaLinux release 8.9 (Midnight Oncilla)</p></td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<div class="line-block">
<div class="line">SELinux must be set to Permissive</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>vi<span class="w"> </span>/etc/selinux/config
<span class="nv">SELINUX</span><span class="o">=</span>Permissive
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>getenforce
Permissive
</pre></div>
</div>
</div>
</section>
<section id="software-requirements">
<span id="ansible-exrcution-agent-oftware-requirements"></span><h3>Software requirements<a class="headerlink" href="#software-requirements" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Python 3.9 must be installed and have an alias for python 3 commands and pip3 commands</p></li>
<li><p>The user must be able to run the following commands</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python3<span class="w"> </span>-V
Python<span class="w"> </span><span class="m">3</span>.9.18

$<span class="w"> </span>pip3<span class="w"> </span>-V
pip<span class="w"> </span><span class="m">21</span>.2.3<span class="w"> </span>from<span class="w"> </span>/usr/lib/python3.9/site-packages/pip<span class="w">  </span>*python<span class="w"> </span><span class="m">3</span>.9
</pre></div>
</div>
</section>
<section id="other-requirements">
<span id="ansible-exrcution-agent-other-requirements"></span><h3>Other requirements<a class="headerlink" href="#other-requirements" title="Link to this heading">¶</a></h3>
<section id="rhel-if-using-license-with-support">
<span id="ansible-exrcution-agent-rhel-support-requirements"></span><h4>RHEL(if using license with support)<a class="headerlink" href="#rhel-if-using-license-with-support" title="Link to this heading">¶</a></h4>
<p>If the user is using the paid version of Ansible-builder or Ansible-runner, make sure to register the subscription and activate the repository before running the installer.</p>
<ul>
<li><p>Red Hat container registry confirmation</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>podman<span class="w"> </span>login<span class="w"> </span>registry.redhat.io
</pre></div>
</div>
</li>
<li><p>Repository used</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rhel-9-for-x86_64-baseos-rpms
rhel-9-for-x86_64-appstream-rpms
ansible-automation-platform-2.5-for-rhel-9-x86_64-rpms
</pre></div>
</div>
</li>
<li><p>Confirming activated repository/activating repository</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>subscription-manager<span class="w"> </span>repos<span class="w"> </span>--list-enabled
sudo<span class="w"> </span>subscription-manager<span class="w"> </span>repos<span class="w"> </span>--enable<span class="o">=</span>rhel-9-for-x86_64-baseos-rpms
sudo<span class="w"> </span>subscription-manager<span class="w"> </span>repos<span class="w"> </span>--enable<span class="o">=</span>rhel-9-for-x86_64-appstream-rpms
sudo<span class="w"> </span>subscription-manager<span class="w"> </span>repos<span class="w"> </span>--enable<span class="o">=</span>ansible-automation-platform-2.5-for-rhel-9-x86_64-rpms
</pre></div>
</div>
</li>
</ul>
</section>
<section id="base-images-confirmed-compatible-with-ansible-builder">
<span id="ansible-exrcution-agent-base-images"></span><h4>Base images confirmed compatible with Ansible builder<a class="headerlink" href="#base-images-confirmed-compatible-with-ansible-builder" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>The following base images are confirmed to be compatible</p></li>
</ul>
<table class="docutils align-left" id="id4">
<caption><span class="caption-number">Table 44 </span><span class="caption-text">Confirmed compatible base images</span><a class="headerlink" href="#id4" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Base image type</p></th>
<th class="head"><p>Image fetch destination</p></th>
<th class="head"><p>Remarks</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ubi9</p></td>
<td><p>registry.access.redhat.com/ubi9/ubi-init:latest</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>rhel9</p></td>
<td><p>registry.redhat.io/ansible-automation-platform-24/ee-supported-rhel9:latest</p></td>
<td><p>For license with support</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="parameter-list">
<span id="ansible-execution-agent-parameter-list"></span><h2>Parameter list<a class="headerlink" href="#parameter-list" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">The following list contains inforamtio nregarding the parameters found in the env file generated by the installer.</div>
</div>
<table class="docutils align-left" id="id5">
<caption><span class="caption-number">Table 45 </span><span class="caption-text">Parameters in env</span><a class="headerlink" href="#id5" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter name</p></th>
<th class="head"><p>Contents</p></th>
<th class="head"><p>Default value</p></th>
<th class="head"><p>Changeable</p></th>
<th class="head"><p>Added version</p></th>
<th class="head"><p>Remarks</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>IS_NON_CONTAINER_LOG</p></td>
<td><p>Settting item that outputs log as file</p></td>
<td><p>1</p></td>
<td><p>No</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>LOG_LEVEL</p></td>
<td><p>Level of information for the output log[INFO/DEBUG]</p></td>
<td><p>INFO</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>LOGGING_MAX_SIZE</p></td>
<td><p>Log rotation file size</p></td>
<td><p>10485760</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td><p>Default state is “Comment out”</p></td>
</tr>
<tr class="row-odd"><td><p>LOGGING_MAX_FILE</p></td>
<td><p>Log rotation backup numbers</p></td>
<td><p>30</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td><p>Default state is “Comment out”</p></td>
</tr>
<tr class="row-even"><td><p>LANGUAGE</p></td>
<td><p>Language settings</p></td>
<td><p>en</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>TZ</p></td>
<td><p>Time zone</p></td>
<td><p>Asia/Tokyo</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PYTHON_CMD</p></td>
<td><p>python execution command of the executing virtual environment</p></td>
<td><p>&lt;PATH of the installed environment&gt;/poetry run python3</p></td>
<td><p>No</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PYTHONPATH</p></td>
<td><p>python execution command of the executing virtual environment</p></td>
<td><p>&lt;Installation path input in the interactive item&gt;/ita_ag_ansible_execution/</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>APP_PATH</p></td>
<td><p>Install destination PATH</p></td>
<td><p>&lt;Installation path input in the interactive item&gt;</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>STORAGEPATH</p></td>
<td><p>Data storage destination PATH</p></td>
<td><p>&lt;Save location input in the interactive item&gt;/&lt;Service unique identifier:yyyyMMddHHmmssfff or String specified in the interactive item&gt;/storage</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>LOGPATH</p></td>
<td><p>Log storage destination PATH</p></td>
<td><p>&lt;Save location input in the interactive item&gt;/&lt;Service unique identifier:yyyyMMddHHmmssfff or String specified in the interactive item&gt;/log</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EXASTRO_ORGANIZATION_ID</p></td>
<td><p>Connection destination ORGANIZATION_ID</p></td>
<td><p>&lt;ORGANIZATION_ID input in the interactive item&gt;</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EXASTRO_WORKSPACE_ID</p></td>
<td><p>Connection destination WORKSPACE_ID</p></td>
<td><p>&lt;WORKSPACE_ID input in the interactive item&gt;</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EXASTRO_URL</p></td>
<td><p>Connection destination ITA URL</p></td>
<td><p>&lt;URL input in the interactive item&gt;</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EXASTRO_REFRESH_TOKEN</p></td>
<td><p>Connection destination ITAのEXASTRO_REFRESH_TOKEN</p></td>
<td><p>&lt;input in the interactive item EXASTRO_REFRESH_TOKEN&gt;</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EXECUTION_ENVIRONMENT_NAMES</p></td>
<td><div class="line-block">
<div class="line">Users can specify the execution environment.</div>
<div class="line">If blank, all execution environments will be target.</div>
<div class="line">Divide execution environments with “,” if specifying multiple.</div>
</div>
</td>
<td><p>Blank</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>AGENT_NAME</p></td>
<td><p>Agent identifier registered to the service.</p></td>
<td><p>ita-ag-ansible-execution-&lt;Service unique identifier:yyyyMMddHHmmssfff or String specified in the interactive item&gt;</p></td>
<td><p>No</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>USER_ID</p></td>
<td><p>Agent identifier.</p></td>
<td><p>&lt;Service unique identifier:yyyyMMddHHmmssfff or String specified in the interactive item&gt;</p></td>
<td><p>No</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>ITERATION</p></td>
<td><p>Number of process iterations before the settings initialize</p></td>
<td><p>10</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EXECUTE_INTERVAL</p></td>
<td><p>Interval after main processes</p></td>
<td><p>5</p></td>
<td><p>Yes</p></td>
<td><p>2.5.1</p></td>
<td></td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<div class="line-block">
<div class="line">EXECUTION_ENVIRONMENT_NAMES: Specify if dividing the target execution environments.</div>
<div class="line">Divide with “,” if specifying multiple.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">EXECUTION_ENVIRONMENT_NAMES</span><span class="o">=</span>&lt;Execution<span class="w"> </span>environment<span class="w"> </span>name<span class="w"> </span><span class="m">1</span>&gt;,&lt;Execution<span class="w"> </span>environment<span class="w"> </span>name<span class="w"> </span><span class="m">2</span>&gt;
</pre></div>
</div>
</div>
</section>
<section id="install">
<span id="ansible-execution-agent-install"></span><h2>Install<a class="headerlink" href="#install" title="Link to this heading">¶</a></h2>
<section id="preparation">
<h3>Preparation<a class="headerlink" href="#preparation" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Fetch the newest setup.sh and add execution permissions.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>wget<span class="w"> </span>https://raw.githubusercontent.com/exastro-suite/exastro-it-automation/refs/heads/main/ita_root/ita_ag_ansible_execution/setup.sh

$<span class="w"> </span>chmod<span class="w"> </span><span class="m">755</span><span class="w"> </span>./setup.sh
</pre></div>
</div>
</section>
<section id="interactive-items">
<h3>Interactive items<a class="headerlink" href="#interactive-items" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Agent’s version information</p></li>
<li><p>Service name</p></li>
<li><p>Source code installat destination</p></li>
<li><p>Data storage destination</p></li>
<li><p>Ansible-builder and Ansible-runner</p></li>
<li><p>Connection destination ITA’s connection information（URL、ORGANIZATION_ID、WORKSPACE_ID、REFRESH_TOKEN）</p></li>
</ul>
</section>
<section id="install-ansible-execution-agent">
<h3>Install Ansible Execution Agent<a class="headerlink" href="#install-ansible-execution-agent" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Run setup.sh and follow the instructions.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./setup.sh<span class="w"> </span>install
</pre></div>
</div>
<ol class="arabic">
<li><div class="line-block">
<div class="line">The user will be asked about the agent’s installation mode. Specify which mode to use.</div>
<div class="line">1: Installs required modules and source code for the service(s), and register and executes service</div>
<div class="line">2: Registers and executes additional services.</div>
<div class="line">3: Specify env file and registers/executes servicse.</div>
<div class="line">※ Mode 2 and 3 requires that 1 is already executed.</div>
</div>
</li>
</ol>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Please select which process to execute.
    1: Create ENV, Install, Register service
    2: Create ENV, Register service
    3: Register service
    q: Quit installer
select value: (1, 2, 3, q)  :
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<div class="line-block">
<div class="line">In the following section, items with “default: xxxxxx” set will have the default value applied if the Enter key is pressed.</div>
</div>
</div>
<ol class="arabic simple">
<li><p>Pressing the Enter key in the following step starts an interactive installation process where the user can input the data for the required items.</p></li>
</ol>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">1.Boot agent service from installer</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">2.Add and/or boot agent service</button><button aria-controls="panel-0-0-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-2" name="0-2" role="tab" tabindex="-1">3.Boot service</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><div class="line-block">
<div class="line">① Press Enter to start inputing data in an interactive format.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;No value + Enter&#39;</span><span class="w"> </span>is<span class="w"> </span>input<span class="w"> </span><span class="k">while</span><span class="w"> </span>default<span class="w"> </span>value<span class="w"> </span>exists,<span class="w"> </span>the<span class="w"> </span>default<span class="w"> </span>value<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>used.
-&gt;<span class="w">  </span>Enter
</pre></div>
</div>
<div class="line-block">
<div class="line">② Users can specify the version of the agent they want to install. The default value uses the newest source code.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>the<span class="w"> </span>version<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>Agent.<span class="w"> </span>Tag<span class="w"> </span>specification:<span class="w"> </span>X.Y.Z,<span class="w"> </span>Branch<span class="w"> </span>specification:<span class="w"> </span>X.Y<span class="w"> </span><span class="o">[</span>default:<span class="w"> </span>No<span class="w"> </span>Input+Enter<span class="o">(</span>Latest<span class="w"> </span>release<span class="w"> </span>version<span class="o">)]</span>:
Input<span class="w"> </span>Value<span class="w"> </span><span class="o">[</span>default:<span class="w"> </span>main<span class="w"> </span><span class="o">]</span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">③ If the user wants to specify a name for the agent service, input “n” and press enter.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>The<span class="w"> </span>Agent<span class="w"> </span>service<span class="w"> </span>name<span class="w"> </span>is<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>format:<span class="w"> </span>ita-ag-ansible-execution-20241112115209622.<span class="w"> </span>Select<span class="w"> </span>n<span class="w"> </span>to<span class="w"> </span>specify<span class="w"> </span>individual<span class="w"> </span>names.<span class="w"> </span><span class="o">(</span>y/n<span class="o">)</span>:
Input<span class="w"> </span>Value<span class="w"> </span><span class="o">[</span>default:<span class="w"> </span>y<span class="w"> </span><span class="o">]</span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">④ This step is only displayed if “n” is input for step ③.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>the<span class="w"> </span>Agent<span class="w"> </span>service<span class="w"> </span>name<span class="w"> </span>.<span class="w"> </span>The<span class="w"> </span>string<span class="w"> </span>ita-ag-ansible-execution-<span class="w"> </span>is<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>start<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>name.:
Input<span class="w"> </span>Value<span class="w"> </span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">⑤ Input if the user wants to specify the install destination for the source code.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Specify<span class="w"> </span>full<span class="w"> </span>path<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>install<span class="w"> </span>location.:
Input<span class="w"> </span>Value<span class="w"> </span><span class="o">[</span>default:<span class="w"> </span>/home/&lt;Login<span class="w"> </span>user&gt;/exastro<span class="w"> </span><span class="o">]</span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">⑥ Input if the user wants to specify the data storage destination.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Specify<span class="w"> </span>full<span class="w"> </span>path<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>data<span class="w"> </span>storage<span class="w"> </span>location.:
Input<span class="w"> </span>Value<span class="w"> </span><span class="o">[</span>default:<span class="w"> </span>/home/&lt;Login<span class="w"> </span>user&gt;/exastro<span class="w"> </span><span class="o">]</span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">⑦ Specify the Ansible-builder and Ansible-runner.</div>
<div class="line-block">
<div class="line">If using the paid version, specify 2 only after the repository has been activated.</div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Select<span class="w"> </span>which<span class="w"> </span>Ansible-builder<span class="w"> </span>and/or<span class="w"> </span>Ansible-runner<span class="w"> </span>to<span class="w"> </span>use<span class="o">(</span><span class="m">1</span>,<span class="w"> </span><span class="m">2</span><span class="o">)</span><span class="w"> </span><span class="o">[</span><span class="nv">1</span><span class="o">=</span>Ansible<span class="w"> </span><span class="nv">2</span><span class="o">=</span>Red<span class="w"> </span>Hat<span class="w"> </span>Ansible<span class="w"> </span>Automation<span class="w"> </span>Platform<span class="o">]</span><span class="w"> </span>:
Input<span class="w"> </span>Value<span class="w"> </span><span class="o">[</span>default:<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">⑧ Specify the URL of the connection destination ITA. e.g. <a class="reference external" href="http://exastro.example.com:30080">http://exastro.example.com:30080</a></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>the<span class="w"> </span>ITA<span class="w"> </span>connection<span class="w"> </span>URL.:
Input<span class="w"> </span>Value<span class="w"> </span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">⑨ Specify the ORGANIZATION of the connection destination ITA.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>ORGANIZATION_ID.:
Input<span class="w"> </span>Value<span class="w"> </span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">⑩ Specify the WORKSPACE of the connection destination ITA.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>WORKSPACE_ID.:
Input<span class="w"> </span>Value<span class="w"> </span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">⑪ Specify the connection destination ITA’s refresh token.</div>
<div class="line"><br /></div>
<div class="line-block">
<div class="line">Press Enter if the user wants to specify the refresh token later.</div>
<div class="line">Rewrite the .env’s EXASTRO_REFRESH_TOKEN.</div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>a<span class="w"> </span>REFRESH_TOKEN<span class="w"> </span><span class="k">for</span><span class="w"> </span>a<span class="w"> </span>user<span class="w"> </span>that<span class="w"> </span>can<span class="w"> </span>log<span class="w"> </span><span class="k">in</span><span class="w"> </span>to<span class="w"> </span>ITA.<span class="w"> </span>If<span class="w"> </span>the<span class="w"> </span>token<span class="w"> </span>cannot<span class="w"> </span>be<span class="w"> </span>input<span class="w"> </span>here,<span class="w"> </span>change<span class="w"> </span>the<span class="w"> </span>EXASTRO_REFRESH_TOKEN<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>generated<span class="w"> </span>.env<span class="w"> </span>file.:
Input<span class="w"> </span>Value<span class="w"> </span><span class="o">[</span>default:<span class="w">  </span><span class="o">]</span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">⑫ Select y in order to boot the service. If the service is not booted now, make sure to boot it later.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>start<span class="w"> </span>the<span class="w"> </span>Agent<span class="w"> </span>service?<span class="w"> </span><span class="o">(</span>y/n<span class="o">)</span>y
</pre></div>
</div>
<div class="line-block">
<div class="line">⑬ Displays the information of the installed service.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Install<span class="w"> </span>Ansible<span class="w"> </span>Execution<span class="w"> </span>Agent<span class="w"> </span>Infomation:
<span class="w">    </span>Agent<span class="w"> </span>Service<span class="w"> </span>id:<span class="w">   </span>&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;
<span class="w">    </span>Agent<span class="w"> </span>Service<span class="w"> </span>Name:<span class="w"> </span>ita-ag-ansible-execution-&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;
<span class="w">    </span>Storage<span class="w"> </span>Path:<span class="w">       </span>/home/&lt;Login<span class="w"> </span>user&gt;/exastro/&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;/storage
<span class="w">    </span>Env<span class="w"> </span>Path:<span class="w">           </span>/home/&lt;Login<span class="w"> </span>user&gt;/exastro/&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;/.env
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><div class="line-block">
<div class="line">① Pressing the Enter key in the following step starts an interactive installation process where the user can input the data for the required items.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;No value + Enter&#39;</span><span class="w"> </span>is<span class="w"> </span>input<span class="w"> </span><span class="k">while</span><span class="w"> </span>default<span class="w"> </span>value<span class="w"> </span>exists,<span class="w"> </span>the<span class="w"> </span>default<span class="w"> </span>value<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>used.
-&gt;<span class="w">  </span>Enter
</pre></div>
</div>
<div class="line-block">
<div class="line">② If the user wants to specify a name for the agent service, input “n” and press enter.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>The<span class="w"> </span>Agent<span class="w"> </span>service<span class="w"> </span>name<span class="w"> </span>is<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>format:<span class="w"> </span>ita-ag-ansible-execution-20241112115209622.<span class="w"> </span>Select<span class="w"> </span>n<span class="w"> </span>to<span class="w"> </span>specify<span class="w"> </span>individual<span class="w"> </span>names.<span class="w"> </span><span class="o">(</span>y/n<span class="o">)</span>:
Input<span class="w"> </span>Value<span class="w"> </span><span class="o">[</span>default:<span class="w"> </span>y<span class="w"> </span><span class="o">]</span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">③ This step is only displayed if “n” is input for step ②.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>the<span class="w"> </span>Agent<span class="w"> </span>service<span class="w"> </span>name<span class="w"> </span>.<span class="w"> </span>The<span class="w"> </span>string<span class="w"> </span>ita-ag-ansible-execution-<span class="w"> </span>is<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>start<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>name.:
Input<span class="w"> </span>Value<span class="w"> </span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">④ Input if the user wants to specify the install destination for the source code.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Specify<span class="w"> </span>full<span class="w"> </span>path<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>install<span class="w"> </span>location.:
Input<span class="w"> </span>Value<span class="w"> </span><span class="o">[</span>default:<span class="w"> </span>/home/&lt;Login<span class="w"> </span>user&gt;/exastro<span class="w"> </span><span class="o">]</span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">⑤ Input if the user wants to specify the data storage destination.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Specify<span class="w"> </span>full<span class="w"> </span>path<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>data<span class="w"> </span>storage<span class="w"> </span>location.:
Input<span class="w"> </span>Value<span class="w"> </span><span class="o">[</span>default:<span class="w"> </span>/home/&lt;Login<span class="w"> </span>user&gt;/exastro<span class="w"> </span><span class="o">]</span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">⑥ Specify the URL of the connection destination ITA. e.g. <a class="reference external" href="http://exastro.example.com:30080">http://exastro.example.com:30080</a></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>the<span class="w"> </span>ITA<span class="w"> </span>connection<span class="w"> </span>URL.:
Input<span class="w"> </span>Value<span class="w"> </span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">⑦ Specify the ORGANIZATION of the connection destination ITA.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>ORGANIZATION_ID.:
Input<span class="w"> </span>Value<span class="w"> </span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">⑧ Specify the WORKSPACE of the connection destination ITA.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>WORKSPACE_ID.:
Input<span class="w"> </span>Value<span class="w"> </span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">⑨ Specify the connection destination ITA’s refresh token.</div>
<div class="line"><br /></div>
<div class="line-block">
<div class="line">Press Enter if the user wants to specify the refresh token later.</div>
<div class="line">Rewrite the .env’s EXASTRO_REFRESH_TOKEN.</div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>a<span class="w"> </span>REFRESH_TOKEN<span class="w"> </span><span class="k">for</span><span class="w"> </span>a<span class="w"> </span>user<span class="w"> </span>that<span class="w"> </span>can<span class="w"> </span>log<span class="w"> </span><span class="k">in</span><span class="w"> </span>to<span class="w"> </span>ITA.<span class="w"> </span>If<span class="w"> </span>the<span class="w"> </span>token<span class="w"> </span>cannot<span class="w"> </span>be<span class="w"> </span>input<span class="w"> </span>here,<span class="w"> </span>change<span class="w"> </span>the<span class="w"> </span>EXASTRO_REFRESH_TOKEN<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>generated<span class="w"> </span>.env<span class="w"> </span>file.:
Input<span class="w"> </span>Value<span class="w"> </span><span class="o">[</span>default:<span class="w">  </span><span class="o">]</span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">⑩ Select y in order to boot the service. If the service is not booted now, make sure to boot it later.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>start<span class="w"> </span>the<span class="w"> </span>Agent<span class="w"> </span>service?<span class="w"> </span><span class="o">(</span>y/n<span class="o">)</span>y
</pre></div>
</div>
<div class="line-block">
<div class="line">⑪ Displays the information of the installed service.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Install<span class="w"> </span>Ansible<span class="w"> </span>Execution<span class="w"> </span>Agent<span class="w"> </span>Infomation:
<span class="w">    </span>Agent<span class="w"> </span>Service<span class="w"> </span>id:<span class="w">   </span>&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;
<span class="w">    </span>Agent<span class="w"> </span>Service<span class="w"> </span>Name:<span class="w"> </span>ita-ag-ansible-execution-&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;
<span class="w">    </span>Storage<span class="w"> </span>Path:<span class="w">       </span>/home/&lt;Login<span class="w"> </span>user&gt;/exastro/&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;/storage
<span class="w">    </span>Env<span class="w"> </span>Path:<span class="w">           </span>/home/&lt;Login<span class="w"> </span>user&gt;/exastro/&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;/.env
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-2" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-2" name="0-2" role="tabpanel" tabindex="0"><div class="line-block">
<div class="line">① Pressing the Enter key in the following step starts an interactive installation process where the user can input the data for the required items.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;No value + Enter&#39;</span><span class="w"> </span>is<span class="w"> </span>input<span class="w"> </span><span class="k">while</span><span class="w"> </span>default<span class="w"> </span>value<span class="w"> </span>exists,<span class="w"> </span>the<span class="w"> </span>default<span class="w"> </span>value<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>used.
-&gt;<span class="w">  </span>Enter
</pre></div>
</div>
<div class="line-block">
<div class="line">② Specify the .env file that will be used. The service registration/boot process will use the .env information.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>the<span class="w"> </span>full<span class="w"> </span>path<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>.env<span class="w"> </span>file.:
Input<span class="w"> </span>Value<span class="w"> </span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">③ Select y in order to boot the service. If the service is not booted now, make sure to boot it later.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>start<span class="w"> </span>the<span class="w"> </span>Agent<span class="w"> </span>service?<span class="w"> </span><span class="o">(</span>y/n<span class="o">)</span>y
</pre></div>
</div>
<div class="line-block">
<div class="line">④ Displays the information of the installed service.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Install<span class="w"> </span>Ansible<span class="w"> </span>Execution<span class="w"> </span>Agent<span class="w"> </span>Infomation:
<span class="w">    </span>Agent<span class="w"> </span>Service<span class="w"> </span>id:<span class="w">   </span>&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;
<span class="w">    </span>Agent<span class="w"> </span>Service<span class="w"> </span>Name:<span class="w"> </span>ita-ag-ansible-execution-&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;
<span class="w">    </span>Storage<span class="w"> </span>Path:<span class="w">       </span>/home/&lt;Login<span class="w"> </span>user&gt;/exastro/&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;/storage
<span class="w">    </span>Env<span class="w"> </span>Path:<span class="w">           </span>/home/&lt;Login<span class="w"> </span>user&gt;/exastro/&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;/.env
</pre></div>
</div>
</div></div>
</section>
</section>
<section id="uninstall">
<span id="ansible-execution-agent-uninstall"></span><h2>Uninstall<a class="headerlink" href="#uninstall" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Run setup.sh and follow the instructions.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./setup.sh<span class="w"> </span>uninstall
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<div class="line-block">
<div class="line">The uninstaller allows users to delete the service and the data. However, the source code for the application will not be deleted.</div>
<div class="line">If the user wants to delete the source code, do so manually.</div>
</div>
</div>
<ol class="arabic">
<li><div class="line-block">
<div class="line">The user will be asked about the agent’s uninstallation mode. Specify which mode to use.</div>
<div class="line">1: Deletes service and data.</div>
<div class="line">2: Deletes service. The data will not be deleted.</div>
<div class="line">3: Deletes data only.</div>
<div class="line">※ 3 requires that 2 has been executed.</div>
</div>
</li>
</ol>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Please select which process to execute.
    1: Delete service, Delete Data
    2: Delete service
    3: Delete Data
    q: Quit uninstaller
select value: (1, 2, 3, q)  :
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Pressing the Enter key in the following step starts an interactive installation process where the user can input the data for the required items.</p></li>
</ol>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-1-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-1-1-0" name="1-0" role="tab" tabindex="0">1.Delete Agent service and data</button><button aria-controls="panel-1-1-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-1-1-1" name="1-1" role="tab" tabindex="-1">2.Delete Agent service</button><button aria-controls="panel-1-1-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-1-1-2" name="1-2" role="tab" tabindex="-1">3.Delete data</button></div><div aria-labelledby="tab-1-1-0" class="sphinx-tabs-panel" id="panel-1-1-0" name="1-0" role="tabpanel" tabindex="0"><div class="line-block">
<div class="line">① Specify the name of the service name of the agent that will be uninstalled（ita-ag-ansible-execution-&lt;Service unique identifier:yyyyMMddHHmmssfff or String specified in the interactive item&gt;）.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>a<span class="w"> </span>SERVICE_NAME.<span class="o">(</span>e.g.<span class="w"> </span>ita-ag-ansible-execution-xxxxxxxxxxxxx<span class="o">)</span>:
</pre></div>
</div>
<div class="line-block">
<div class="line">② Specify the storage path of the data of the service name specified in step ①.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>a<span class="w"> </span>STORAGE_PATH.<span class="o">(</span>e.g.<span class="w"> </span>/home/cloud-user/exastro/&lt;SERVICE_ID&gt;<span class="o">)</span>:
</pre></div>
</div>
</div><div aria-labelledby="tab-1-1-1" class="sphinx-tabs-panel" hidden="true" id="panel-1-1-1" name="1-1" role="tabpanel" tabindex="0"><div class="line-block">
<div class="line">① Specify the name of the service name of the agent that will be uninstalled（ita-ag-ansible-execution-&lt;Service unique identifier:yyyyMMddHHmmssfff or String specified in the interactive item&gt;）.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>a<span class="w"> </span>SERVICE_NAME.<span class="o">(</span>e.g.<span class="w"> </span>ita-ag-ansible-execution-xxxxxxxxxxxxx<span class="o">)</span>:
</pre></div>
</div>
</div><div aria-labelledby="tab-1-1-2" class="sphinx-tabs-panel" hidden="true" id="panel-1-1-2" name="1-2" role="tabpanel" tabindex="0"><div class="line-block">
<div class="line">① Specify the service’s data storage path.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>a<span class="w"> </span>STORAGE_PATH.<span class="o">(</span>e.g.<span class="w"> </span>/home/cloud-user/exastro/&lt;SERVICE_ID&gt;<span class="o">)</span>:
</pre></div>
</div>
</div></div>
</section>
<section id="manually-operating-confirming-service">
<span id="ansible-execution-agent-service-cmd"></span><h2>Manually operating/confirming service.<a class="headerlink" href="#manually-operating-confirming-service" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">The user can use the following commands to check the service state.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-2-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-2-2-0" name="2-0" role="tab" tabindex="0">AlmaLinux8</button><button aria-controls="panel-2-2-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-2-2-1" name="2-1" role="tab" tabindex="-1">RHEL9</button></div><div aria-labelledby="tab-2-2-0" class="sphinx-tabs-panel" id="panel-2-2-0" name="2-0" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Displaying changes in the setting file</span>
$<span class="w"> </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>daemon-reload
<span class="c1"># Check service status</span>
$<span class="w"> </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w">  </span>ita-ag-ansible-execution-&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;
<span class="c1"># Start service</span>
$<span class="w"> </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>ita-ag-ansible-execution-&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;
<span class="c1"># Stop service</span>
$<span class="w"> </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>stop<span class="w">  </span>ita-ag-ansible-execution-&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;
<span class="c1"># Restart service</span>
$<span class="w"> </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w">  </span>ita-ag-ansible-execution-&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;
</pre></div>
</div>
</div><div aria-labelledby="tab-2-2-1" class="sphinx-tabs-panel" hidden="true" id="panel-2-2-1" name="2-1" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Displaying changes in the setting file</span>
$<span class="w"> </span>systemctl<span class="w"> </span>--user<span class="w"> </span>daemon-reload
<span class="c1"># Check service status</span>
$<span class="w"> </span>systemctl<span class="w"> </span>--user<span class="w"> </span>status<span class="w">  </span>ita-ag-ansible-execution-&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;
<span class="c1"># Start service</span>
$<span class="w"> </span>systemctl<span class="w"> </span>--user<span class="w"> </span>start<span class="w"> </span>ita-ag-ansible-execution-&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;
<span class="c1"># Stop service</span>
$<span class="w"> </span>systemctl<span class="w"> </span>--user<span class="w"> </span>stop<span class="w">  </span>ita-ag-ansible-execution-&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;
<span class="c1"># Restart service</span>
$<span class="w"> </span>systemctl<span class="w"> </span>--user<span class="w"> </span>restart<span class="w">  </span>ita-ag-ansible-execution-&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;
</pre></div>
</div>
</div></div>
</section>
<section id="confirming-service-log">
<span id="ansible-execution-agent-service-log"></span><h2>Confirming service log<a class="headerlink" href="#confirming-service-log" title="Link to this heading">¶</a></h2>
<ul>
<li><div class="line-block">
<div class="line">Application log</div>
</div>
</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>/home/&lt;Login<span class="w"> </span>user&gt;/exastro/&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;/log/
<span class="w">      </span>ita-ag-ansible-execution-&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;.log
<span class="w">      </span>ita-ag-ansible-execution-&lt;Service<span class="w"> </span>unique<span class="w"> </span>identifier:yyyyMMddHHmmssfff<span class="w"> </span>or<span class="w"> </span>String<span class="w"> </span>specified<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>interactive<span class="w"> </span>item&gt;.log.xx

※Log<span class="w"> </span>rotated<span class="w"> </span>files<span class="w"> </span>have<span class="w"> </span>numeric<span class="w"> </span>values<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>end.<span class="w"> </span>Use<span class="w"> </span>it<span class="w"> </span>to<span class="w"> </span>find<span class="w"> </span>log<span class="w"> </span>rotation<span class="w"> </span>size<span class="w"> </span>and<span class="w"> </span>storage<span class="w"> </span>period.
</pre></div>
</div>
<ul>
<li><div class="line-block">
<div class="line">System and components logs</div>
</div>
</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/var/log/message
</pre></div>
</div>
<p>※For information regarding Ansible-builder, Ansible-runner, podman and other related components, see the different component’s log output destination.</p>
</section>
</section>


</div>


<div id="articleNavigation">
  <ul>
    <li class="prev"><a href="index.html" title="Previous topic"><span>Previous topic</span>Ansible Execution Agent</a></li>
    <li class="next"><a href="../../offline/index.html" title="Next topic"><span>Next topic</span>Offline</a></li>
  </ul>
</div>


<div id="pageTopLink">
  <a href="#container"><i>↑</i> Page Top</a>
</div>

</article>
</div>
</main>
</div><!-- End #contents -->
<div id="footer">
  <footer class="divInner">
    <small>Copyright © 2019-2025 NEC Corporation</small>
    <small><a href="/en/2.5/terms/en.html">サイト規約</a></small>
  </footer>
</div><!-- End #footer -->

<div id="overlay"></div>
<div id="grayBack"></div>

</div><!-- End #container -->
  </body>
</html>