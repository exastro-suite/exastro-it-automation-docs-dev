# Exastro IT Automation 2.6.0

リリース日: 2025年07月10日

## 機能追加

### Conductor定期作業実行のスケジュール拡張・安定性向上（[#1597](https://github.com/exastro-suite/exastro-it-automation/issues/1597), [#2715](https://github.com/exastro-suite/exastro-it-automation/issues/2715), [#2760](https://github.com/exastro-suite/exastro-it-automation/issues/2760)）
Conductor定期作業実行で、より多様なスケジュールパターンに対応しました。また、実行中の画面リフレッシュ時のエラー無視や、コンテナの死活監視機能を追加し、運用時の安定性と柔軟性が大幅に向上しています。

### ワークスペース作成時のエージェント権限自動払い出し（[#2545](https://github.com/exastro-suite/exastro-it-automation/issues/2545)）
ワークスペース作成時に、各エージェントに適した権限のアカウントを自動で払い出す機能を追加しました。これにより、初期設定の手間が削減され、セキュリティと運用効率が向上します。

### ファイルAPIのバリデーション強化（[#2697](https://github.com/exastro-suite/exastro-it-automation/issues/2697)）
ファイルダウンロード/アップロードAPIでリクエストが2種類の場合、バリデーションをコントローラー側で実施するようにし、不正なリクエストの早期検知と安定性向上を実現しました。

### Ansible実行エージェントのライセンス管理・通信エラー対応・子プロ復活（[#2614](https://github.com/exastro-suite/exastro-it-automation/issues/2614), [#2656](https://github.com/exastro-suite/exastro-it-automation/issues/2656), [#2724](https://github.com/exastro-suite/exastro-it-automation/issues/2724)）
Ansible実行エージェントのライセンス管理を強化し、通信エラー時のリカバリや、実行コンテナが落ちた場合の子プロセス自動復活機能を追加しました。これにより、運用時の信頼性と自動化の継続性が向上します。

### グローバル変数管理の機密情報対応（[#2548](https://github.com/exastro-suite/exastro-it-automation/issues/2548)）
Ansibleのグローバル変数管理で、パスワード等の機微な情報も安全に扱えるようになりました。セキュリティ要件の高い現場でも安心して利用できます。

### メニューエクスポート/インポート機能の性能向上（[#2738](https://github.com/exastro-suite/exastro-it-automation/issues/2738), [#2755](https://github.com/exastro-suite/exastro-it-automation/issues/2755)）
メニューエクスポート・インポート機能の処理速度と安定性を大幅に改善しました。大量データや複雑なメニュー構成でもスムーズな運用が可能です。

### 各種OS・コンテナ・開発環境の最新化（[#2595](https://github.com/exastro-suite/exastro-it-automation/issues/2595), [#2594](https://github.com/exastro-suite/exastro-it-automation/issues/2594), [#2711](https://github.com/exastro-suite/exastro-it-automation/issues/2711), [#2606](https://github.com/exastro-suite/exastro-it-automation/issues/2606), [#2763](https://github.com/exastro-suite/exastro-it-automation/issues/2763)）
docker-compose版やエージェントのインストール対応OSにalmalinux9を追加し、コンテナのベースイメージをRHEL9やalmalinux9に更新、devcontainer.jsonの新バージョン対応、docker-composeの出力フォーマット変更など、開発・運用基盤の最新化を進めました。

### パラメータシート・画面UI・メンテナンス機能の拡充（[#2580](https://github.com/exastro-suite/exastro-it-automation/issues/2580), [#2551](https://github.com/exastro-suite/exastro-it-automation/issues/2551), [#2603](https://github.com/exastro-suite/exastro-it-automation/issues/2603), [#2653](https://github.com/exastro-suite/exastro-it-automation/issues/2653)）
パラメータシートの列表示でホスト名の固定化、文字列カラムの最大バイト数上限拡大、画面右上ユーザー名の表示改善、肥大化データ・ファイルのメンテナンス機能追加など、日常運用の利便性と拡張性を強化しました。

## バグ修正


### 定期作業のスケジュール計算が特定条件で誤る問題を修正（[#2767](https://github.com/exastro-suite/exastro-it-automation/issues/2767)）
特定の条件下で定期作業の次回実行日時が正しく計算されず、スケジュール通りに動作しない問題を修正しました。これにより、定期作業の自動化がより確実に行えるようになりました。

### ファイルクリア後も履歴から過去のファイルが参照できるよう修正（[#2772](https://github.com/exastro-suite/exastro-it-automation/issues/2772)）
パラメータシートでファイルをクリアした場合でも、履歴から過去のファイルが正しく参照・ダウンロードできるようになりました。これにより、過去の作業履歴や証跡の確認が容易になりました。

### 履歴からのファイルダウンロードAPIで発生するシステムエラーを解消（[#2773](https://github.com/exastro-suite/exastro-it-automation/issues/2773)）
履歴からファイルをダウンロードするAPIで、特定の条件下で発生していたシステムエラーを修正しました。これにより、履歴データの活用が安定して行えます。

### プルダウン利用メニューのExcel出力時に「内容の回復」ダイアログが出る問題を修正（[#2632](https://github.com/exastro-suite/exastro-it-automation/issues/2632)）
大量データを含むプルダウン利用メニューのExcel出力時、ファイルを開くと「内容の回復」ダイアログが表示される場合がある問題を解消しました。Excelファイルの互換性と信頼性が向上しています。

### Ansible資材転送時に不要な資材が送信される問題を修正（[#2643](https://github.com/exastro-suite/exastro-it-automation/issues/2643)）
Ansible Automation Controller（AAC）への資材転送時、必要のない資材まで転送されていた問題を修正し、転送効率を向上させました。これにより、ネットワークやストレージの無駄な消費を防ぎます。

### メニューインポート後に履歴ファイルが参照できなくなる不具合を修正（[#2748](https://github.com/exastro-suite/exastro-it-automation/issues/2748)）
環境差分がある状態でメニューインポートを行った際、履歴ファイルが参照できなくなる問題を修正しました。インポート後も履歴ファイルが正しく利用できます。

### 不要なログが出力される問題を修正（[#2733](https://github.com/exastro-suite/exastro-it-automation/issues/2733)）
ita-by-execinstance-dataautoclean実行時に余計なログが出力される問題を解消し、運用時のログの見やすさを向上させました。

### 整数型カラムのフィルタ検索で少数を入力するとエラーになる問題を修正（[#2735](https://github.com/exastro-suite/exastro-it-automation/issues/2735)）
通常メニューで整数型カラムのフィルタ検索時に少数を入力するとシステムエラーとなる問題を修正しました。これにより、入力値のバリデーションが強化されています。

### OASEイベント収集設定でリクエストパラメータ値がNoneになる問題を修正（[#2734](https://github.com/exastro-suite/exastro-it-automation/issues/2734)）
OASEのイベント収集設定で、リクエストパラメータの値がNoneで送信されてしまう場合がある不具合を修正しました。正しい値でリクエストが行われるようになりました。

### OASEのTTLインデックスでタイムゾーンがUTCでなくなる問題を修正（[#2736](https://github.com/exastro-suite/exastro-it-automation/issues/2736)）
OASEのTTLインデックスでタイムゾーンがUTCでなくなってしまう問題を修正しました。これにより、時刻管理の一貫性が保たれます。

### OASEで複数ルールを一度に判定できない問題を修正（[#2739](https://github.com/exastro-suite/exastro-it-automation/issues/2739)）
OASEで一度に複数のルール判定ができない不具合を修正しました。大量イベントの一括処理が可能となっています。

### ansible-agentの名前が長すぎる場合の不具合を修正（[#2768](https://github.com/exastro-suite/exastro-it-automation/issues/2768)）
ansible-agentの名前が長すぎる場合に発生する不具合を修正しました。命名規則の制約が適切に適用されます。

### ansible作業実行時に想定外エラーで後続作業がスキップされる問題を修正（[#2777](https://github.com/exastro-suite/exastro-it-automation/issues/2777)）
ansible作業実行時に想定外のエラーが発生した場合でも、後続の作業が正しく実行されるようになりました。

### Movement一覧を含むメニューのエクスポートができない問題を修正（[#2652](https://github.com/exastro-suite/exastro-it-automation/issues/2652)）
エクスポート対象メニューに「Movement一覧」を含めるとエクスポートできないケースがある問題を修正しました。すべてのメニューでエクスポートが可能です。

### 複数行文字列カラムのExcel全件ダウンロード時の改行表記不正を修正（[#2664](https://github.com/exastro-suite/exastro-it-automation/issues/2664)）
パラメータシートの複数行文字列カラムでExcel全件ダウンロード時、改行が正しく表記されない問題を修正しました。Excelでのデータ閲覧性が向上しています。

### CI/CD for IaCの資材紐付でファイルが空になる問題を修正（[#2723](https://github.com/exastro-suite/exastro-it-automation/issues/2723)）
CI/CD for IaCで資材紐付を行うとファイルが空になる不具合を修正しました。資材管理の信頼性が向上しています。

### Conductorワークフロー削除機能で配下フォルダが削除できない問題を修正（[#2725](https://github.com/exastro-suite/exastro-it-automation/issues/2725)）
Conductorの__conductor_workflowdir__削除機能で、配下のフォルダが削除できない問題を修正しました。不要なワークフロー情報の整理が容易になりました。

### 通知管理画面が外部サイト非接続環境で開けない問題を修正（[#2727](https://github.com/exastro-suite/exastro-it-automation/issues/2727)）
通知管理画面で外部サイトにアクセスできない環境でも画面が開けるようになりました。オフライン環境でも安定して利用できます。

### 英語環境でExcel一括インポート時にシステムエラーが発生する問題を修正（[#2769](https://github.com/exastro-suite/exastro-it-automation/issues/2769)）
英語環境でExcel一括インポート画面からファイルアップロードを行うとシステムエラーになる問題を修正しました。多言語環境での安定性が向上しています。

### 比較機能で項目名にクォートが含まれると比較結果に表示されない問題を修正（[#2645](https://github.com/exastro-suite/exastro-it-automation/issues/2645)）
比較機能で項目名にダブルクォートやシングルクォートが含まれている場合でも、正しく比較結果に表示されるようになりました。

### Conductorノードの備考削除時に枠が消えない問題を修正（[#2654](https://github.com/exastro-suite/exastro-it-automation/issues/2654)）
Conductorでノードの備考を削除しても枠が消えない問題を修正しました。UIの一貫性が保たれます。

### Movement一覧のMovementIDの「Ｍ」が全角になっている誤字を修正（[#2757](https://github.com/exastro-suite/exastro-it-automation/issues/2757)）
Movement一覧のMovementIDの「Ｍ」が全角になっていた誤字を修正しました。表記の統一性が向上しています。

### バージョンアップ時に不要なbiuder.txtファイルが残る問題を修正（[#2701](https://github.com/exastro-suite/exastro-it-automation/issues/2701)）
2.4.2や2.5.0から2.5.3以上にバージョンアップした際、不要なbiuder.txtファイルが残る問題を修正しました。バージョンアップ後のファイル整理が自動化されています。

### Ansible Automation Controllerでproxy設定不要環境で誤ったエラーが出る問題を修正（[#2589](https://github.com/exastro-suite/exastro-it-automation/issues/2589)）
Ansible Automation Controller利用時、proxy設定が不要な環境で誤ったエラーが表示される問題を修正しました。環境ごとの適切なエラー表示が行われます。

### Ansible共通エージェント管理画面で最終更新者が表示されない問題を修正（[#2754](https://github.com/exastro-suite/exastro-it-automation/issues/2754)）
Ansible共通のエージェント管理画面で、最終更新者が正しく表示されない問題を修正しました。管理情報の可視性が向上しています。

### ita-api-organizationのopenapi定義が最新化されていない問題を修正（[#2793](https://github.com/exastro-suite/exastro-it-automation/issues/2793)）
ita-api-organizationのopenapi定義が最新化されていなかった問題を修正しました。API仕様の整合性が保たれます。

## 改善

### 2.6.0バージョンアップ・修正反映（[#2613](https://github.com/exastro-suite/exastro-it-automation/issues/2613)）
本バージョンで実施された各種修正内容を反映し、全体の安定性と運用性を向上させました。

