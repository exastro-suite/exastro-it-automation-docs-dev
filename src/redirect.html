<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>Exastro IT Automation</title>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-144561796-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  
  gtag('config', 'UA-144561796-1');
</script>
<script>
  // クエリパラメータを取得
  const params = new URLSearchParams(window.location.search);
  const redirectTo = params.get('redirect') || 'index.html'; // デフォルトのリダイレクト先
 
  // 許可するパスのホワイトリスト
  const allowedPaths = [
    'installation',
    'manuals',
    'learn/quickstart',
    'learn',
    'templates',
  ];
  
  // セキュリティチェック / Security Check
  function isValidRedirect(path) {
    // 1. ホワイトリストチェック / Whitelist Check
    if (allowedPaths.includes(path)) {
      return true;
    }

    // 2. 該当なし / No Match
    return false;
  }

  let finalRedirectPath;
  if (isValidRedirect(redirectTo)) {
    console.log('Valid redirect to:', redirectTo);
    finalRedirectPath = redirectTo;
  } else {
    console.warn('Invalid redirect path detected. Redirecting to default index.html');
    finalRedirectPath = 'index.html';
  }
  
  window.location.href = 'ja/#__version__#/' + finalRedirectPath;
</script>
</head>
<body>
</body>
</html>