========
はじめに
========

はじめに
========

- システムの構築と更新では同一のConductorを使用する。

- 構築、更新時のパターンは以下の通り
   - 実行時にAWS CloudFormationに指定したスタックが存在しない場合、スタック構築を実行する
   - スタックが存在して、パラメータが異なる場合、スタックの更新を実行する
   - スタックが存在して、パラメータが同一の場合、処理はスキップされる

- スタック名は以下の形式でAWS CloudFormationへ登録される
   - スタック名の形式:“<システム名>-<スタック名>”
   - 「システム名」は「基盤管理」「共通パラメータ」に登録する
   - 「スタック名」は「基盤/シナリオ」、「ユーザー/シナリオ」、「システム/シナリオ」に登録する


構築手順の概要
==============

Conductor実行順序は以下の通り

Conductor実行順序
^^^^^^^^^^^^^^^^^

| ①AWS管理者基盤の構築 → AWS管理者の作成
| ②インフラユーザー基盤の構築 → インフラ管理者、インフラメンバーの作成
| ③CloudFormationロールの構築
| ④オートスケールWebシステムの構築
| ⑤セキュリティ付帯機能の構築
| ⑥WebサーバへPlaybook実行

オペレーションについて
^^^^^^^^^^^^^^^^^^^^^^

- 初期状態のオペレーションには、「共通オペレーション」「環境-A」「環境-B」が登録されている

- | 上記の構築手順と使用するオペレーションは以下の通り
  | ①②:「共通オペレーション」を実行時に選択する
  | ③④⑤⑥:「環境-A」「環境-B」を実行時に選択する

- | 以降の手順では「共通オペレーション」「環境-A」を使用して説明する。
  | 「環境-B」の実行手順は「環境-A」と同様
